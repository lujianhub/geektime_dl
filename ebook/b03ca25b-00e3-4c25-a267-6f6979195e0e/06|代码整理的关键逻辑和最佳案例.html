<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>06|代码整理的关键逻辑和最佳案例</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
<h1>06|代码整理的关键逻辑和最佳案例</h1>

<p>写一篇文章，要层次清楚、段落分明，写代码也是这样。杂志排版，要布局合理，阅读舒适，代码的编排也要这样。</p><p>可是很多人想的是，代码能工作就行，不用讲究格式；时间紧，哪有时间整理代码。</p><p>可事实上，干净整洁的代码带给我们的，远远不止格式上的赏心悦目，它更可以减少错误，提高我们的编程速度与效率。因为代码的层次结构、格式部署，是我们对自己思维的整理，也是我们思考逻辑的展现。</p><p>很多人不愿意整理代码，觉得这项工作很麻烦。其实代码的整理并不复杂，也不需要什么高深的技巧。有效地使用空行、空格和缩进，简单的分割与对齐，就可以使得代码的视觉效果甚至质量发生巨大的变化，理顺编码的思路，提高编码的效率。这是一个付出少、收获大，值得养成的好习惯。</p><h2>给代码分块</h2><p>其实整理代码，就是给代码分块。我们的大脑接收信息是按照分块的模式进行的。一块就是一个可识别的信息，它被安放到短期记忆的“插槽”里。信息块的实际信息量是可变的，但是越简单、越具体的信息块越容易被记住和理解。</p><p>一份好的报纸或者杂志，文章本身往往很简短，或者被分割为简短的块。使用小段落、子标题，大量留白，版面切割，尽一切可能分解文章、版面，让眼睛舒适，让大脑有时间停留下来接受每个信息快。</p><!-- [[[read_end]]] --><p>一个代码文件，可以看做是一个杂志版面。在这个版面里，我们要把代码整理成清晰的模块，这样每一小块在视觉上和逻辑上都是可以区分的，可以帮助我们阅读和记忆，减轻眼睛和大脑的疲劳。</p><p>比较下面的两种形式的语句。这两种形式，在实际逻辑上是完全相同的。但是，第二个语句使用了更细化的块，这样视觉形式和逻辑形式都是清晰直观的。</p><pre><code>if (firstName != null &amp;&amp; lastName != null)
</code></pre><pre><code>if ((firstName != null) &amp;&amp; (lastName != null))
</code></pre><p>如果一段代码放眼望去都是大块大块的，那对于一个初学者来说，阅读和理解就非常困难。他需要将复杂的表达式再次分解，分解到可以单独理解的变量和运算符，再重新组合。</p><p>你看，这样是不是很麻烦？</p><p>一个好的程序员，要识别并且区分代码块，让它们易于阅读和辨认。程序代码分块时，我们需要注意以下三个点。</p><ol>
<li>
<p><strong>保持代码块的单一性，一个代码块只能有一个目标</strong>。代码块内所有的内容都是为了一个目标服务的，不能把无关的内容放在同一个代码块里。同一个代码块里语句的相互联系比与相邻代码块里的语句关系更为紧密；</p>
</li>
<li>
<p><strong>注意代码块的完整性</strong>。代码块是一个完整的信息块。一个代码块要表达一个相对完整的意思，不能一个意思没说完就分块了，就像话说了半句一样；</p>
</li>
<li>
<p><strong>代码块数量要适当</strong>。代码块过多，会让人觉得路径太长，逻辑复杂，不容易阅读理解。一个基础的代码块最好不要超过25行（通常显示屏小半个页面），否则就会有增加阅读理解的困难。</p>
</li>
</ol><p>我们读文章的时候，如果段落划分合理，那么读一次差不多就能清楚地记住了。日常阅读的新闻、时事、娱乐报道，和学术著作相比，通常会使用更短的段落。这就是有意缩短信息快，使报道更加适合快速阅读的需要。</p><p>同样的，我们划分代码块，就是要让人清楚地阅读和理解。如果一个代码块太长，说明我们还可以进一步细分它。</p><h2>使用空白空间</h2><p>给代码分块的办法之一，就是有效地使用空白空间。空白的空间虽然没有内容，但会给我们重要的信息提示。因此我们写代码的时候，一定要合理地运用空白。</p><p>为什么呢？</p><p>靠近的代码会形成一个视觉块，并且具有隐含的关联。分开的代码，意味着上下两段代码的关联没有那么紧密。这种视觉效果会给我们暗示，代码靠得越近，代码之间的关系越紧密。</p><p>因此，空白区域，不仅仅可以用来分割代码，还展示了代码之间的关系。</p><p>代码的分块，通过空格、缩进和空行来整理，或者分割。其中空格可以进行逻辑区隔，用于同一行代码内部的信息分块。缩进用于水平分割，用于表示代码块的级别。空行用于垂直分割，用于分开同级别的不同代码块。</p><p>下面这个简图，可以直观地表示这种代码块的布局方式。</p><p><img src="b206f929-6b35-49d8-8103-42793b026693.jpg" alt=""><br>
或者，也可以参考下面的代码示例。 这段代码，也包含了使用空格区分同一行代码内部的信息块。</p><pre><code>package coding;

public class CodingFormat {
    public static void main(String[] args) {
        System.out.println(
                &quot;German say hello with &quot;
                + Greeting.GERMAN.getGreeting());
    }

    private static enum Greeting {
        ENGLISH     (&quot;English&quot;,  &quot;Hello&quot;),
        SPANISH     (&quot;Spanish&quot;,  &quot;Hola&quot;),
        GERMAN      (&quot;German&quot;,   &quot;Hallo&quot;),
        MANDARIN    (&quot;Mandarin&quot;, &quot;Ni Hao&quot;);

        private final String language;
        private final String greeting;

        private Greeting(String language, String greeting) {
            this.language = language;
            this.greeting = greeting;
        }

        private String getGreeting() {
            return greeting;
        }
        
        private String getLanguage() {
            return language;
        }
    }
}
</code></pre><p>那么到底如何利用空白空间呢？可以分为下面四个方法，我来一一讲解一下。</p><p><strong>同级别代码块靠左对齐</strong></p><p>我们阅读的习惯顺序是从左到右，代码也如此。因此不同行，但同级别的代码要靠左对齐。</p><p>比如，上面的CodingFormat例子中，main()方法和Greeting枚举类都是CodingFormat的下一级内容，属于同一级别的两个块。 两个代码块的左侧要对齐。</p><p>上面的CodingFormat例子中的枚举常量、枚举类的变量、枚举类的方法，也是属于同一级别的内容。 对应地，左侧要对齐。</p><p><strong>同级别代码块空行分割</strong></p><p>我们阅读代码总是从上往下读，不同行的同级别的代码块之间，要使用空行分割。</p><p>当我们读到一个空行的时候，我们的大脑就会意识到这部分的信息结束了，可以停留下来接受这段信息。 另外，我们阅读代码的时候，碰到空白行，我们也可以暂停，往回看几行，或者重新回顾一下整个代码块，梳理逻辑、加深理解。</p><p>比如，上面的CodingFormat例子中，main()方法和Greeting枚举类之间的空白行，getGreeting()和getLanguage()方法之间的空行，都是用来分割不同的信息块的。greeting变量和Greeting构造方法之间的空白行，表示变量声明结束，下面是开始定义类的方法，同样起到分割信息块的作用。</p><p><strong>下一级代码块向右缩进</strong></p><p>我们上面讲了同级别的代码格式，那么不同级别的呢？</p><p>区分不同行的不同级别的代码，可以使用缩进。缩进的目的是为了让我们更直观地看到缩进线，从而意识到代码之间的关系。</p><p>缩进虽然是一个共识，但怎么缩进是一个富有争议的话题。不同的语言，不同的程序员，有着不同的偏好。</p><p>我刚开始工作时，编写代码必须使用制表符缩进，并且要把制表符设置为四个字符空间。那个时候，还没有什么IDE可以依赖，大家都使用vi编辑器编写代码。缺省的，vi制表符使用八个字符空间。所以，那个时候我们看代码的第一件事，就是看看vi配置有没有把制表符设置为四个字符空间。 要不然的话，代码就凌乱得找不到头绪。</p><p>现在，OpenJDK的代码里已经不允许存在制表符了，缩进统一使用四个空格。也有的缩进规范使用两个空格，或者八个空格。</p><p>上面的CodingFormat例子中，我们使用了四个空格作为一个缩进单元。下面，我们看看两个空格的缩进，以及八个空格的缩进效果。</p><p>两个空格的缩进：</p><pre><code>package coding;

public class CodingFormat {
  public static void main(String[] args) {
    System.out.println(
        &quot;German say hello with &quot; + Greeting.GERMAN.getGreeting());
    }

  private static enum Greeting {
    ENGLISH     (&quot;English&quot;,  &quot;Hello&quot;),
    SPANISH     (&quot;Spanish&quot;,  &quot;Hola&quot;),
    GERMAN      (&quot;German&quot;,   &quot;Hallo&quot;),
    MANDARIN    (&quot;Mandarin&quot;, &quot;Ni Hao&quot;);

    private final String language;
    private final String greeting;

    private Greeting(String language, String greeting) {
      this.language = language;
      this.greeting = greeting;
    }

    private String getGreeting() {
      return greeting;
    }
        
    private String getLanguage() {
      return language;
    }
  }
}
</code></pre><p>两个空格的缩进，可以为每一行语句释放出更多的空间，从而减少换行，方便我们使用较长标识符或者语句。</p><p>两个空格的缩进，视觉上，缩进线靠得太近，相对而言，更容易混淆代码的分块级别。这是两个空格缩进的一个小缺点。</p><p>我们再来看下八个空格的缩进：</p><pre><code>package coding;

public class CodingFormat {
        public static void main(String[] args) {
                System.out.println(
                        &quot;German say hello with &quot;
                        + Greeting.GERMAN.getGreeting());
        }

        private static enum Greeting {
                ENGLISH     (&quot;English&quot;,  &quot;Hello&quot;),
                SPANISH     (&quot;Spanish&quot;,  &quot;Hola&quot;),
                GERMAN      (&quot;German&quot;,   &quot;Hallo&quot;),
                MANDARIN    (&quot;Mandarin&quot;, &quot;Ni Hao&quot;);

                private final String language;
                private final String greeting;

                private Greeting(String language, String greeting) {
                        this.language = language;
                        this.greeting = greeting;
                }

                private String getGreeting() {
                        return greeting;
                }
        
                private String getLanguage() {
                        return language;
                }
        }
}
</code></pre><p>八个空格的缩进，视觉上可以看到缩进线明显，缩进的级别也容易辨认。</p><p>但过多的缩进空格也有缺点。它很容易超过每行字数的限制，比如屏幕每行可容纳字符的限制。特别是当我们使用较长标识符或者语句的时候，如果每行字符空间较小（手机屏幕），就很容易导致自动换行，让代码变得难以阅读。</p><p>另外，如果我们使用八个空格作为一个缩进单元，为了代码的整洁性，我们往往会被迫使用最少的缩进嵌套，这也导致了额外的复杂性，可读性就降低了。</p><p>由于我们倾向于使用有准确意义的命名，标识符的长度往往是一个不能忽视的因素。现在的编码规范，四个空格的缩进最为常见，二个空格的缩进次之，八个空格的缩进使用的较少。</p><p><strong>同行内代码块空格区隔</strong></p><p>我们上面讲的都是不同行的代码该如何注意格式。位于同一行内的代码块，同样需要注意。我们可以使用空格区分开不同的逻辑单元。</p><p>比如，逗号分隔符后要使用空格，以区分开下一个信息：</p><pre><code>String firstName, lastName;
</code></pre><p>双目运算符或者多目运算符，运算符前后都要使用空格：</p><pre><code>firstName != null

(firstName != null) &amp;&amp; (lastName != null)
</code></pre><h2>一行一个行为</h2><p>上面我们讨论了代码块的一些整理办法。 那对于每一行代码，有没有整理办法呢?</p><p>当然是有的。</p><p>一个重要的原则是，每一行代码仅仅表示一个行为。这样每一行的代码才是一个常规大小的、可以识别的基础信息块。</p><p>比如说，下面的这行代码就包含了两个行为，一个是判断行为，一个是执行行为。 两个行为放在一行，这样的代码不仅看起来有些乱，我们的大脑处理起来也有些懵。</p><pre><code>if (variable != null) variable.doSomething();
</code></pre><p>如果分隔开这两个行为，信息块的区隔会更明显，代码会更清晰：</p><pre><code>if (variable != null) {
    variable.doSomething();
}
</code></pre><p>一般一个完整的表达式可以看作是一个独立的行为。</p><p>编辑器的宽度，屏幕的宽度，都是有限制的。当一个完整的表达式比较长时，就需要换行。</p><p><strong>基本的换行原则</strong></p><p>我们前面讨论的代码分块的基本思想，同样适用于换行。基本的换行规范需要考虑以下三点。</p><ol>
<li>每行代码字符数的限制。一般情况下，每行代码不要超出80个字符（ 80个字符是传统终端的宽度，比如vi编译器）。由于屏幕尺寸和代码阅读终端的变化，现在的很多规范，开始使用120个字符的限制。所以我们编码的时候，需要留意一下；</li>
<li>如果一行不足以容纳一个表达式，就需要换行；</li>
<li>一般的换行原则包括以下五点。</li>
</ol><ul>
<li>在逗号后换行。</li>
</ul><pre><code>String variable = anObject.getSomething(longExpressionOne,
        longExpressionTwo, longExpressionThree);
</code></pre><ul>
<li>在操作符前换行。</li>
</ul><pre><code>String varibale = longStringOne + longStringTwo
        + longStringThree;
</code></pre><ul>
<li>高级别的换行优先。</li>
</ul><pre><code>anObject.methodOne(parameterForMethodOne,
        anObject.methodTwo(parameterForMethodTwo));

/ conventional indentation
int runningMiles = runningSpeedOne * runningTimeOne
                 + runningSpeedTwo * runningTimeTwo;

// confusing indentation                           
int runningMiles = runningSpeedOne
       * runningTimeOne + runningSpeedTwo
       * runningTimeTwo;
</code></pre><ul>
<li>新的换行与上一行同级别表达式的开头对齐。</li>
</ul><pre><code>anObject.methodOne(parameterOne,
                   parameterTwo,
                   parameterTwo);
</code></pre><ul>
<li>如果上述规则导致代码混乱或者代码太靠右，使用8个空格作为缩进（两个缩进单位）。</li>
</ul><pre><code>anObject.methodOne(parameterForMethodOne,
        anObject.methodTwo(parameterOneForMethodTwo,
                parameterTwoForMethodTwo,
                parameterThreeForMethodTwo));

// bad indentation
if ((conditionOne &amp;&amp; conditionTwo)
    || (conditionThree &amp;&amp; conditionFour)) {
    doSomething();  
}

// a better indentation, using 8 spaces for the indentation
if ((conditionOne &amp;&amp; conditionTwo)
        || (conditionThree &amp;&amp; conditionFour)) {
    doSomething();  
}
</code></pre><h2>小结</h2><p>今天，我给你讲了整理代码的重要性以及一些方法。其实归根结底，整理代码有一个基本的思想，那就是把代码分割成大脑能够有效识别并记忆的信息块，通过合理地使用空行、空格和缩进，把这些信息块清晰地呈现出来。清晰的代码结构，可以帮助我们理顺编码的思路，提高编码的效率，减少编码的错误，提高代码的可读性，降低代码的维护成本。</p><p>总之，整理代码带给我们的好处，是很多的。</p><h2>一起来动手</h2><p>还记得我们上一节的练习题吗？上次我们改名字，这次我们来修改一下代码的编排。欢迎你把优化的代码公布在讨论区，也可以写下你的优化思路，我们一起来看看编排优化后的代码是不是更好阅读了呢？</p><pre><code>import java.util.HashMap;
import java.util.Map;

class Solution {
    /**
     * Given an array of integers, return indices of the two numbers
     * such that they add up to a specific target.
     */
    public int[] twoSum(int[] nums, int target) {
        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();
        for (int i = 0; i &lt; nums.length; i++) {
            int complement = target - nums[i];
            if (map.containsKey(complement)) {
                return new int[] { map.get(complement), i };
            }
            map.put(nums[i], i);
        }
        throw new IllegalArgumentException(&quot;No two sum solution&quot;);
    }
}
</code></pre><p>欢迎你把这篇文章分享给你的朋友或者同事，一起来探讨吧！</p><p><img src="0a8bed4a-746d-412d-ab7b-209ee0241c0d.jpg" alt=""></p><h2>精选留言：</h2>
        <ul>
        
<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            草原上的奔跑  2019-01-15 19:30:26
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            今天这篇内容很实用，我现在也有整理代码的习惯，但是只是用的都比较零散，不像本篇中这么系统，而且范老师给出了理论依据。代码块，人体接受信息的方式。有实践方法，有理论支撑，以后整理代码也会更有目标性，同时，在要求别人整理代码时，也会有理有据。最后说一句，看到写的排版很乱的代码，很影响阅读代码的心情，以及理解代码的速度。 [4赞]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">作者回复2019-01-15 21:05:12</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">知道为什么乱，才好改。<br><br>这一篇的最后一节，我们会总结一些编码规范方面的一些心理学知识。到时候，你在回头看看这一篇的文章，可能会有新的收获。<br><br>编码规范比较杂，知道了背后的道理，运用的就自如些，方便些。</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            王小勃  2019-01-20 02:03:47
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            打卡<br>我有一个自己在实践且感觉不错的经验，分享一下:<br>举个栗子，我现在准备写一个控制器方法，我会先仔细想想要做一点什么？怎样的顺序？多想几次在脑袋里过一下，但是我不会深想到底怎么做，想好以后，我会先写注释（更准确说应该是提纲），以注释作为思路的引子同时也是一种代码实现思维的分块 [3赞]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">作者回复2019-01-20 19:37:25</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">这个办法不错。我是在纸上各种画。</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            _CountingStars  2019-01-15 19:08:01
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            因为每一个编辑器的制表符显示出来不一样 有点编辑器 把制表符展示为4个空格 有的编辑器把制表符展示为8个空格 不统一 不同编辑器显示效果不同 使用4个空格就没有这个问题 [3赞]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            蓝色波浪  2019-01-18 02:53:46
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            &#47;&#47; conventional indentation<br>int runningMiles = runningSpeedOne * runningTimeOne +<br>                   runningSpeedTwo * runningTimeTwo;<br>这个是不是违背了在操作符前换行这个原则？ [2赞]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">作者回复2019-01-18 10:23:56</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">是的。</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            背着吉他的大漠狼  2019-01-20 21:47:15
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            老师，有的时候，在一个代码块里面逻辑较多，远远超过了25行，这个时候我们是在这个块里写完，还是再分块，分块了又使得同一个目标不同的代码块了，希望老师能看到 [1赞]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">作者回复2019-01-20 22:32:57</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">一般来说，一个大的逻辑可以分成更小的逻辑，并列的小逻辑或者下层的小逻辑。这些小逻辑，可以分割成代码块，或者包装成方法。所以，一个大块里，你还可以再分小块。<br><br></div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            lianlian  2019-01-16 01:42:54
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            哈哈哈，我发现我写得很规范 [1赞]
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            pyhhou  2019-01-15 15:14:24
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            专栏看到现在，很有收获，规范了自己之前没有想到的很多地方，满满的干货，谢谢老师～ [1赞]
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">作者回复2019-01-15 20:03:22</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">不谢，有收获就好。</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            浅吟且行的未来  2019-04-04 09:37:56
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            赞老师，理论结合实际的方式很好！学到了原因，更容易理解规范！ 
        </div>
        
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            hua168  2019-03-09 22:31:25
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            老师，像我这种没有项目经验，知道类、接口及其修饰符、方法，但不知道什么情况下使用：<br>1. 接口：是抽象方法的集合，一个实现接口的类，必须实现接口内所描述的所有方法。<br>         理解是当有些方法规定死的就要用接口，比如人的身份证，设置名字、地址、性别等<br><br>2. 类：类是一个模板，它描述一类对象的行为和状态。对象是类的实例化。<br>       访问控制修饰符：default、private、public、protected<br>       非访问修饰符：static、final、abstract（只能继承）、synchronized、transient<br>                     volatile<br>       继承、多态、<br>3.方法： 语句的集合，它们在一起执行一个功能。<br><br>这些基础概念都懂，但是就不知道怎么在项目中应用的，说懂好像又不懂，感觉基础不是很扎实一，我这种情况怎搞？有没有相关文章或书推荐一下，非常感谢？ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">作者回复2019-03-12 16:53:05</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">先要区分类和方法。在面向对象的设计中，类表示的是一个对象。比如人，身份，铅笔，钱包等。一般地，名词或者可以看作名词的词，需要用类来表示。<br><br>方法，一般表示的是行为，也就是你说的执行一个功能。比如买菜，拖地，钓鱼，吃没吃过晚饭，有没有购房资格，都可以看作是行为或者判断。一般地，动词和形容词，或者类似的词，要用方法来表示。<br><br>通常地，一句话，有主语、谓语、宾语，主语和谓语一般表示为类，而谓语就是连接两个类的方法。 <br><br>举个例子，“授权的用户可以登录服务系统”这句话里的词语有“授权的&quot;, “用户”，“登录”，“服务系统”。那么，“用户”和“服务系统”就可以设计成类，而“授权的”是“用户”这个类的一个方法。“用户”和“服务系统”这两个类里，要分别有方法处理“登录”这个行为。<br><br>而Interface呢，一般用在高度抽象的场合。什么是高度抽象呢？ 比如说，我们知道资源的使用最后应该关闭，那么“关闭”就可以是一个高度抽象的方法。 不管是什么资源，什么类，都可以有一个“关闭”的方法。实现了“关闭”接口的类，都可以调用“关闭”这个方法。 这里面有一个小问题就是，房屋的门可以实现“关闭”，下水管道也可以实现“关闭。可是，房屋和下水管道之间，并没有可以继承的关系。这时候，Interface就可以突破class的继承限制，多个没有继承关系的类，都可以实现Interface。一个类，只能继承一个父类，但是可以实现多个Interface。 比如说，class MySubClass extends MyClass implements Closeablse, Comparable {&#47;&#47; snipped}。<br><br>不知道市面上还有没有&quot;面向对象软件构造&quot;这本书。太厚了，可以当作工具书查阅。 另外，多看看、琢磨琢磨Java标准类库的设计。这些API的设计，用“苛刻”这个词形容一点都不过分。这些API的背后，有着大量的权衡和考量，大部分都经得住了时间的考验。琢磨琢磨这些API的设计方式，也是一个学习设计的好办法。</div>
</div>
            
    </div>
</li>
            
<br/>

<li>
    <div>
        <div style="color: #888;font-size:15.25px;font-weight:400;line-height:1.2">
            hua168  2019-03-08 02:08:05
        </div>
        <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">
            一个代码块只能有一个目标，有点疑问：<br>1. 代码块是不是可以是类、接口、方法(函数)？<br><br>2. 如果类和方法的话，是不是可以理解类是实现大目标，方法实现小目标？<br>   我实现一个类，要使用几好个方法，方法一定要独立的吗？<br><br>3.方法和类的使用一直有点判断不了，在什么情况下使用类什么情况使用方法？<br>  我一个东西可以使用方法实现，也可以使用类实现，是不是能用方法就不用类？ 
        </div>
        <br/>
<div>
    <div style="color:#888;font-size:15.25px;font-weight:400;line-height:1.2">作者回复2019-03-09 02:11:13</div>
    <div style="color:#353535;font-weight:400;white-space:normal;word-break:break-all;line-height:1.6">一个大目标可以分解为小目标，大问题分解为小问题，这就是为什么会有缩进的逻辑。<br><br>方法独立的问题，我们后面还会谈到。 如果方法不独立，会有很多问题； 但是也做不到所有软件的所有方法都独立。<br><br>类一般是一个名词，表示一个对象；而方法一般可以使用动词，表示一种行为。从需求中找名词、动词（主语、谓语、宾语，形容词）这是一个常用的面向对象设计的办法。比如，一个授权的客户可以查询他的账户余额，客户、账户、余额，都是对象，可以考虑设计成类，而授权、查询，都是行为，可以考虑设计成方法。该怎么授权呢？ 又是一大堆的描述，这就是把大问题分解成小问题。<br><br>行为也可以设计成类，比如授权当作名词看，就可以是个类。这种情况，需要复用设计，分离出抽象行为的时候用的比较多。<br></div>
</div>
            
    </div>
</li>
            </ul>

</body>
</html>